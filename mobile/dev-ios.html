<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Recommandations accessibilité Orange pour mobiles</title>
        
      
       <!-- Copyright © 2014 Monotype Imaging Inc. All rights reserved -->
      <link rel="stylesheet" href="../boosted/css/orangeHelvetica.css">
      <!-- Copyright © 2016 Orange SA. All rights reserved -->
      <link rel="stylesheet" href="../boosted/css/orangeIcons.css">
      <link rel="stylesheet" href="../boosted/css/boosted.css">

      <!-- Style pour la mise en forme des exemples de code -->
      <link rel="stylesheet" href="../css/dark.min.css">

      <!-- Styles perso -->
      <link rel="stylesheet" href="../css/reco.css">
      <link rel="stylesheet" href="./css/reco-custom.css">

      <script src="./js/jquery.min.js"></script>
      <script src="./js/jquery.validate.min.js"></script>
      <script type="text/javascript" src="./js/lunr.min.js"></script>
</head>
<body>
    <div class="skip-links sr-only">
        <a id="skip-nav" href="#sidebar">Aller à la navigation</a>
        <a id="skip-content" href="#content">Aller au contenu</a>
    </div>
    <header role="banner">
      <nav class="navbar navbar-dark navbar-fixed-top">
          <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
              <span class="sr-only">Menu de navigation</span>
              <span class="icon-menu"></span>
          </button>
          
              <a href="index.html" class="navbar-brand"><img src="../boosted/img/ORANGE_LOGO_rgb.jpg" alt="Retour à l'accueil" title="Retour à l'accueil"/></a>
              <ul class="nav navbar-nav collapse navbar-toggleable-xs pull-xs-left" id="collapsingNavbar">
                  <li class="nav-item"><a class="nav-link" href="../index.html">Accueil</a></li>                                    
                  <li class="nav-item">
                    <a class="nav-link" href="../web/index.html">Web</a>                      
                  </li>
                  <li class="nav-item active mobile">
                    <a href="../mobile/index.html" class="nav-link">Mobile</a>
                    <ul id="navigation" class="nav navbar-nav">
                        <li><a class="page-index" href="index.html">Présentation</a></li>
                        <li><a class="page-criteria-mobile" href="criteria-mobile.html">Critères mobiles</a></li>  
                        <li><a class="page-dev-mobile" href="dev-mobile.html">Guide pour les développeurs</a></li>                
                        <li><a class="page-mdan" href="mdan.html">mDAN</a></li>                                                                        
                        <li><a class="page-screen-reader" href="screen-reader.html">Lecteur d'écran</a></li>
                        <li><a class="page-links" href="links.html">Liens utiles</a></li>
                        <li><a class="page-contact" href="contact.html">Contact</a></li>
                        <li><a class="page-about" href="about.html">A propos</a></li>                        
                    </ul>                                        
                  </li>                  
                  <li class="nav-item language hidden-sm-up">
                    <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a>
                  </li>
              </ul> 
              <ul class="nav navbar-nav pull-xs-right" id="secondNavBar">        
                <li class="nav-item hidden-xs-down">
                  <span id="cdu">
                    <a href="#" title="Confort plus" id="uci_link">
                      Confort
                      <span>+</span>
                    </a>
                  </span>
                </li>
                <li class="nav-item language hidden-xs-down">
                  <a href="#" class="nav-link active" aria-disabled="true" aria-label="version française">fr</a><a lang="en" aria-label="english version" href="../mobile_EN/index.html" class="nav-link">en</a> 
                </li>
                <li class="nav-item">
                    <a href="#searchbar" class="nav-link icon" id="searchIcon" data-toggle="collapse" aria-expanded="false" aria-controls="searchbar">
                        <span class="sr-only">Afficher la barre de recherche</span>
                        <span class="icon-search" aria-hidden="true"></span>
                    </a>                    
                </li>                
            </ul>             
          
          <form action="./search.html" class="navbar-form navbar-right collapse" role="search" id="searchbar">
            <label for="search">Rechercher</label>
            <input placeholder="Saisissez votre recherche" type="text" id="search" name="q">
            <button type="submit" class="btn btn-secondary icon">
              <span class="sr-only">Rerchercher</span>
              <span class="icon-search" aria-hidden="true"></span>
            </button>
          </form>
      </nav>      
    </header>
    
    <span class="sr-only">Vous êtes ici : </span>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/web/index.html">Mobile</a></li>        
    </ol>

    <main role="main" class="container-fluid">
      <div class="row row-offcanvas row-offcanvas-left">       
        <div role="navigation" id="sidebar" class="col-xs-6 col-sm-3 sidebar-offcanvas">
        </div>
        <div class="col-xs-12 col-sm-9" id="content">          
          <h1 id="guide-d-accessibilit-ios">Guide d&#39;accessibilité iOS</h1>
<script>$(document).ready(function () {

    setBreadcrumb([{"label":"Guide développeur", "url": "./dev-mobile.html"},
        {"label":"Guide développeur iOS"}
    ]);
    addSubMenu([
        {"label":"Guide pour Android","url":"dev-android.html"}, 
        {"label":"Guide pour iOS","url":"dev-mobile.html", "expanded": true}
    ]);    

});</script>

<p><span data-menuitem="dev-mobile"></span></p>
<p>Ce guide a pour objectif de présenter les différentes options d&#39;accessibilité du SDK iOS. À travers différentes catégories, ce guide explique comment utiliser les attributs et méthodes d&#39;accessibilité et propose des liens vers la documentation officielle d&#39;Apple. Des exemples de codes sont aussi présents pour illustrer les propos (la plupart du temps en Swift).</p>
<h2 id="alternatives-textuelles">Alternatives textuelles</h2>
<p><strong>Description : </strong>  </p>
<p>Sous iOS, la vocalisation d’un élément s’effectue à travers 4 attributs, à savoir le <code>label</code>, le <code>hint</code>, la <code>value</code> et le <code>trait</code>.<br>L’ordre de vocalisation est toujours le suivant : <code>label</code>, <code>value</code>, <code>trait</code> et <code>hint</code>. Cet ordre ne peut pas être changé et la vocalisation est réalisée en une seule fois, à l’arrivée sur l’élément.  </p>
<p>Une section de ce guide est dédiée au trait, nous décrivons ici les 3 autres :  </p>
<ul>
<li><code>accessibilityLabel</code> : le <code>label</code> permet de préciser le titre spécifique à l’accessibilité qui est lu par VoiceOver en lieu et place du texte du composant si celui-ci en possède un. Cela permet d’avoir un texte de composant plus explicite que celui affiché à l’écran. Par exemple, dans le cas d’un bouton dont le titre est « OK », on peut indiquer que le bouton sert à valider un choix.</li>
<li><code>accessibilityValue</code> : la valeur d’un élément est par défaut le pourcentage de progression (exemple : une barre de progression). À noter que pour la plupart des éléments ajustables disponibles dans le SDK, cette value n’a pas besoin d’être reprécisée (le système restitue automatiquement la valeur à l’utilisateur via VoiceOver).</li>
<li><code>accessibilityHint</code> : le <code>hint</code> permet de décrire le comportement du composant. Exemple : « cliquez pour obtenir le résultat ».  </li>
</ul>
<p>Ces attributs d’accessibilité sont disponibles via l’interface builder, mais également via le code. Tout élément dérivant de <code>UIView</code> les possède par défaut. Ces attributs acceptent une chaine de caractère en option, et sont, par conséquent, facilement internationalisables.</p>
<p><strong>Exemples : </strong>   </p>
<p>Exemple simple (internationalisé) :<br><code>accordionHeaderView.accessibilityHint = &quot;example_elementState_foldArea_open_accessibilityHint&quot;.localized</code></p>
<p>Indiquer l&#39;état et la nature d&#39;onglets personnalisés :  </p>
<pre><code class="swift">@IBAction func buttonClicked(sender: AnyObject) {
    for button:UIButton in buttonList {

        if button == sender as! UIButton {
            button.selected = true
            if accessible {
                button.accessibilityTraits = UIAccessibilityTraitButton + UIAccessibilityTraitSelected
            }
            button.setTitleColor(UIColor.orange_orangeForWhiteBG(), forState: UIControlState.Selected)
            button.tintColor = UIColor.clearColor()
        }
        else {
            button.selected = false
            if accessible {
                button.accessibilityTraits = UIAccessibilityTraitNone
                button.accessibilityTraits = UIAccessibilityTraitButton
            }
            button.setTitleColor(UIColor.orange_blackColor(), forState: UIControlState.Normal)
        }
    }
}

func accessibleSegmentedControl() {
    onePageButton.accessibilityTraits = UIAccessibilityTraitButton + UIAccessibilityTraitSelected
    twoPageButton.accessibilityTraits = UIAccessibilityTraitButton
    threePageButton.accessibilityTraits = UIAccessibilityTraitButton

    onePageButton.accessibilityHint = "1 " + "common_of".localized + " " + String(buttonList.count)
    twoPageButton.accessibilityHint = "2 " + "common_of".localized + " " + String(buttonList.count)
    threePageButton.accessibilityHint = "3 " + "common_of".localized + " " + String(buttonList.count)
}</code></pre>

<p><strong>Liens : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityLabel">accessibilityLabel</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityValue">accessibilityValue</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityHint">accessibilityHint</a></li>
</ul>
<h2 id="nature-des-l-ments">Nature des éléments</h2>
<p><strong>Description : </strong> </p>
<p>L’attribut <code>accessibilityTraits</code> permet de donner une information à l&#39;API d&#39;accessibilité sur la nature d’un composant. On peut décider ainsi qu’un item de liste soit pris en compte comme un bouton par VoiceOver car celui-ci est cliquable. De ce fait, l’<code>accessibilityTrait</code> joue également sur la vocalisation de l’élément car cette nature est restituée par VoiceOver.  </p>
<p>Cet attribut d’accessibilité est disponible via l’interface builder, mais également utilisable directement via le code.  </p>
<p>Il existe beaucoup de traits. Ci-après, les principaux (les plus utiles) :  </p>
<ul>
<li><code>accessibilityTraitNone</code> : supprime toute valeur sémantique à l’élément.</li>
<li><code>accessibilityTraitButton</code> : ajoute le trait « bouton », l’élément est vu comme un bouton par VoiceOver.</li>
<li><code>accessibilityTraitLink</code> : utile pour définir un label en tant que « lien ».</li>
<li><code>accessibilityTraitHeader</code> : permet de définir un élément comme une en-tête (pour plus d’information, voir la section « titres et en-têtes » dans la partie critères de l’application).</li>
<li><code>accessibilityTraitAdjustable</code> : permet de définir un élément comme un élément « ajustable », c’est-à-dire un élément dont la valeur instantanée peut être modifiée via un geste spécifique de VoiceOver.</li>
</ul>
<p><strong>Exemples : </strong>   </p>
<p>Exemple avec un <code>UIPageControl</code> et le trait &#39;ajustable&#39; :<br><code>pageControl.accessibilityTraits = UIAccessibilityTraitAdjustable</code></p>
<p>Exemple pour ajouter un en-tête :<br><code>defaultHeaderViewCell.accessibilityTraits = UIAccessibilityTraitHeader</code></p>
<p>On peut également combiner plusieurs trait :<br><code>onePageButton.accessibilityTraits = UIAccessibilityTraitButton + UIAccessibilityTraitSelected</code></p>
<p><strong>Lien : </strong>     </p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/doc/constant_group/Accessibility_Traits">accessibilityTraits</a></li>
</ul>
<h2 id="masquer-des-l-ments-l-accessibilit-">Masquer des éléments à l&#39;accessibilité</h2>
<p><strong>Description : </strong>  </p>
<p>Il est possible via des attributs d’accessibilité de masquer des éléments aux outils d’accessibilité (VoiceOver par exemple). Il est aussi possible de forcer certains éléments à être visibles aux outils d’accessibilité.  </p>
<ul>
<li><code>AccessibilityElement</code> : booléen qui permet d’indiquer qu’un élément est visible ou non de l’API d’accessibilité (de VoiceOver ou autre).</li>
<li><code>AccessibilityElementIsHidden</code> : booléen qui permet d’indiquer que les éléments fils de l’élément cible sont visibles ou non de l’API d’accessibilité.</li>
<li><code>AccessibilityViewIsModal</code> : booléen qui permet de rendre visible ou non les éléments frères de l’élément cible à l’API d’accessibilité. Très utile pour rendre accessible des popin custom par exemple.  </li>
</ul>
<p>L’attribut <code>accessibilityElement</code> est disponible via l’interface builder, mais est également utilisable directement via le code. Les deux autres attributs sont utilisables uniquement via le code.</p>
<p><strong>Exemples : </strong></p>
<p>Exemple simple :<br><code>pageControl.isAccessibilityElement = true</code></p>
<p>Exemple d&#39;alerte custom accessible :  </p>
<pre><code class="swift">@IBAction func displayCustomAlert() {
    popUpVIew.hidden = false //La vue a été créée au préalable, on ne fait que l'afficher et la rendre accessible
    popUpVIew.accessibilityViewIsModal = true //Empêche l'accessibilité de voir ce qui est "derrière" l'alerte
    popUpVIew.frame = CGRectMake(0, 0, UIScreen.mainScreen().bounds.width, UIScreen.mainScreen().bounds.height) //Le filtre modal de l'alerte prend tout l'écran

    let window = UIApplication.sharedApplication().keyWindow
    window?.addSubview(popUpVIew)

    UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, popUpVIew) //On informe l'accessibilité de l'affichage de l'alerte afin que celle-ci soit focus si VoiceOver est actif
}</code></pre>

<p><strong>Liens : </strong>     </p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/isAccessibilityElement">accessibilityElement</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityElementsHidden">accessibilityElementIsHidden</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityViewIsModal">accessibilityViewIsModal</a></li>
</ul>
<h2 id="d-clencher-une-vocalisation">Déclencher une vocalisation</h2>
<p><strong>Description : </strong>  </p>
<p>Il est très facile de déclencher des vocalisations avec VoiceOver. Attention, nous parlons de vocalisation avec VoiceOver (ce qui implique que VoiceOver soit activé) et pas de TTS (<span lang="en">Text To Speech</span>) (qui fonctionne indépendamment de l&#39;activation ou non de VoiceOver).  </p>
<p>Pour déclencher une vocalisation, il faut envoyer une notification à l’API d’accessibilité via la méthode <code>UIAccessibilityPostNotification</code>  avec en paramètre la notification permettant de déclencher une vocalisation <code>UIAccessibilityAnnouncementNotification</code> et la chaine de caractère à vocaliser.    </p>
<p>La vocalisation se fait dans la langue du système.</p>
<p><strong>Exemple : </strong></p>
<p><code>UIAccessibilityPostNotification(UIAccessibilityAnnouncementNotification, speakString);</code></p>
<p><strong>Liens : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/index.html#//apple_ref/c/func/UIAccessibilityPostNotification">UIAccessibilityPostNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityAnnouncementNotification">UIAccessibilityAnnouncementNotification</a></li>
</ul>
<h2 id="connaitre-l-tat-des-options-d-accessibilit-">Connaitre l&#39;état des options d&#39;accessibilité</h2>
<p><strong>Description : </strong> </p>
<p>Sous iOS, il est possible de connaitre les statuts des options d’accessibilité. Est-ce que VoiceOver est activé ? Est-ce que le mode audio-mono est activé ? Plusieurs fonctions permettent de connaitre ces valeurs. Ces fonctions font partie du <code>UIKit</code> framework.  </p>
<p>La plus utile de ces fonctions est certainement <code>UIAccessibilityIsVoiceOverRunning</code> qui permet de savoir si VoiceOver est activé au moment de l’appel.</p>
<p><strong>Exemple : </strong> </p>
<p><code>UIAccessibilityIsVoiceOverRunning() ? 1 : 0</code></p>
<p><strong>Liens : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsVoiceOverRunning">UIAccessibilityIsVoiceOverRunning</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsClosedCaptioningEnabled">UIAccessibilityIsClosedCaptioningEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsMonoAudioEnabled">UIAccessibilityIsMonoAudioEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsBoldTextEnabled">UIAccessibilityIsBoldTextEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityDarkerSystemColorsEnabled">UIAccessibilityDarkerSystemColorsEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsGrayscaleEnabled">UIAccessibilityIsGrayscaleEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsGuidedAccessEnabled">UIAccessibilityIsGuidedAccessEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsInvertColorsEnabled">UIAccessibilityIsInvertColorsEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsReduceMotionEnabled">UIAccessibilityIsReduceMotionEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsReduceTransparencyEnabled">UIAccessibilityIsReduceTransparencyEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsSpeakScreenEnabled">UIAccessibilityIsSpeakScreenEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsSpeakSelectionEnabled">UIAccessibilityIsSpeakSelectionEnabled</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/#//apple_ref/c/func/UIAccessibilityIsSwitchControlRunning">UIAccessibilityIsSwitchControlRunning</a></li>
</ul>
<h2 id="informer-d-une-modification-sur-la-page">Informer d&#39;une modification sur la page</h2>
<p><strong>Description : </strong></p>
<p>Lors d’un changement de contenu sur une page, il est possible de notifier l’API d’accessibilité de ce changement à travers différentes notifications. Pour ce faire, il faut envoyer une notification de modification à l’API d’accessibilité via la méthode <code>UIAccessibilityPostNotification</code>.  </p>
<p>Il existe plusieurs notifications de modification, mais les deux plus utiles sont :</p>
<ul>
<li><code>UIAccessibilityLayoutChangedNotification</code> : permet de spécifier à l’API d’accessibilité qu’une partie de la page a été modifiée.</li>
<li><code>UIAccessibilityScreenChangedNotification</code> : permet d’annoncer un changement global de la page.  </li>
</ul>
<p>À l’usage, il existe une petite différence entre les deux. <code>UIAccessibilityLayoutChangedNotification</code> accepte une <code>NSString</code> ou un <code>UIObject</code>. Avec le premier paramètre, la notification se comporte comme une <code>UIAccessibilityAnnouncementNotification</code> et lance une vocalisation VoiceOver. Avec le second, le focus est repositionné sur l’élément de notre choix.  </p>
<p><code>UIAccessibilityScreenChangedNotification</code> accepte soit <code>nil</code>, soit l’élément qui doit recevoir le focus.</p>
<p><strong>Exemples : </strong></p>
<pre><code class="objectivec">UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, @"speakString");
UIAccessibilityPostNotification(UIAccessibilityLayoutChangedNotification, aViewObject);

UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, nil);
UIAccessibilityPostNotification(UIAccessibilityScreenChangedNotification, aViewObject);</code></pre>

<p><strong>Liens : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIKitFunctionReference/index.html#//apple_ref/c/func/UIAccessibilityPostNotification">UIAccessibilityPostNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/index.html#//apple_ref/c/data/UIAccessibilityLayoutChangedNotification">UIAccessibilityLayoutChangedNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/index.html#//apple_ref/c/data/UIAccessibilityScreenChangedNotification">UIAccessibilityScreenChangedNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/index.html#//apple_ref/c/data/UIAccessibilityPageScrolledNotification">UIAccessibilityPageScrolledNotification</a></li>
</ul>
<h2 id="modifier-la-langue-de-vocalisation">Modifier la langue de vocalisation</h2>
<p><strong>Description : </strong>  </p>
<p>Afin de modifier la langue de prononciation de VoiceOver pour un mot ou un texte, il existe l’attribut <code>accessibilityLanguage</code>. Disponible via le protocole <code>UIAccessibility</code>, cet attribut permet de redéfinir la langue de prononciation d’un texte. Par exemple, si on utilise cet attribut sur un <code>UILabel</code>, alors celui-ci sera vocalisé par VoiceOver dans la nouvelle langue donnée en valeur de l’attribut.</p>
<p><strong>Exemple : </strong> </p>
<p><code>cell.textLabel?.accessibilityLanguage = &quot;en_EN&quot;</code></p>
<p><strong>Lien : </strong>      </p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityLanguage">accessibilityLanguage</a></li>
</ul>
<h2 id="modifier-la-zone-de-focus-de-voiceover">Modifier la zone de focus de VoiceOver</h2>
<p><strong>Description : </strong>  </p>
<p>Dans le cas d’objet modifié dynamiquement ou d’élément ne dérivant pas de <code>UIView</code>, il est possible de déterminer la zone géographique d’accessibilité de cet élément, c&#39;est-à-dire la zone que VoiceOver met en surbrillance lors du focus.  </p>
<ul>
<li><code>AccessibilityFrame</code> : permet de définir cette zone via un rectangle (<code>CGRect</code>). Par défaut pour un élément dérivant de <code>UIView</code>, cette zone est la partie « visible » de la vue.</li>
<li><code>AccessibilityPath</code> : équivalent à <code>AccessibilityFrame</code> mais permet de définir la zone via des courbes de Bézier.</li>
<li><code>AccessibilityActivationPoint</code> : le « point » d’activation d’un élément pour les outils d’accessibilité. Par défaut, ce point est au centre de l’élément.</li>
</ul>
<p><strong>Liens : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityFrame">AccessibilityFrame</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityPath">AccessibilityPath</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/accessibilityActivationPoint">AccessibilityActivationPoint</a></li>
</ul>
<h2 id="grouper-des-l-ments">Grouper des éléments</h2>
<p><strong>Description : </strong>  </p>
<p>L&#39;attribut <code>shouldGroupAccessibilityChildren</code> est un booléen qui permet d’indiquer à VoiceOver qu’il doit grouper les enfants de la vue qui porte l’attribut. Cela permet notamment de faire des vocalisations uniques ou de définir un ordre de lecture VoiceOver particulier pour une partie de la page seulement (voir la section « ordre de lecture »).</p>
<p><strong>Exemple : </strong> </p>
<p>Très pratique quand on veut redéfinir l&#39;ordre de lecture VoiceOver, ici sur une cellule de tableau qui comporte des éléments de formulaire :  </p>
<pre><code class="swift">class AddressTableViewCell: UITableViewCell {

    @IBOutlet weak var deliveringAddressLabel:  UILabel!
    @IBOutlet weak var addressLabel:            UILabel!
    @IBOutlet weak var switchLabel:             UILabel!
    @IBOutlet weak var addressSwitch:           UISwitch!

    override func awakeFromNib() {
        super.awakeFromNib()

        isAccessibilityElement = false
        shouldGroupAccessibilityChildren = true
        accessibilityElements = [deliveringAddressLabel, addressLabel, addressSwitch]
    }
}</code></pre>

<p><strong>Lien : </strong>      </p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/occ/instp/NSObject/shouldGroupAccessibilityChildren">shouldGroupAccessibilityChildren</a></li>
</ul>
<h2 id="ev-nements-d-accessibilit-">Evènements d&#39;accessibilité</h2>
<p><strong>Description : </strong>  </p>
<p>Le système iOS envoie un certain nombre d’évènements d’accessibilité à destination des applications. Ces événements sont envoyés lors de la modification des options d’accessibilité. Par exemple, si VoiceOver est désactivé durant l’utilisation de l’application, celle-ci recevra l’évènement <code>UIAccessibilityVoiceOverStatusChanged</code>. Cela est très utile couplé à la fonction <code>UIAccessibilityIsVoiceOverRunning</code>.  </p>
<p>Imaginons que nous ayons un traitement particulier quand VoiceOver est activé. Ceci est détecté grâce à la fonction <code>UIAccessibilityIsVoiceOverRunning</code>. Mais que se passe-t-il si VoiceOver est désactivé alors que ce traitement a déjà eu lieu ? C’est là que les évènements système peuvent être utilisés. En restant à l’écoute de ces évènements, il est possible d’appliquer des traitements particuliers de manière dynamique.</p>
<p><strong>Exemple : </strong> </p>
<p>Ici, on appelle le sélecteur &quot;voiceOverStatusDidChange&quot; au moment ou le status change :<br><code>NSNotificationCenter.defaultCenter().addObserver(self, selector: &quot;voiceOverStatusDidChange:&quot;, name: UIAccessibilityVoiceOverStatusChanged, object: nil)</code></p>
<p><strong>Lien : </strong>      </p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityVoiceOverStatusChanged">UIAccessibilityVoiceOverStatusChanged</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityClosedCaptioningStatusDidChangeNotification">UIAccessibilityClosedCaptioningStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityMonoAudioStatusDidChangeNotification">UIAccessibilityMonoAudioStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityAnnouncementDidFinishNotification">UIAccessibilityAnnouncementDidFinishNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityAnnouncementDidFinishNotification">UIAccessibilityGuideAccessStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityInvertColorsStatusDidChangeNotification">UIAccessibilityInvertColorsStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityDarkerSystemColorsStatusDidChangeNotification">UIAccessibilityDarkerSystemColorsStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityGrayscaleStatusDidChangeNotification">UIAccessibilityGrayscaleStatusDidChangeNotification</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibility_Protocol/#//apple_ref/c/data/UIAccessibilityBoldTextStatusDidChangeNotification">UIAccessibilityBoldTextStatusDidChangeNotification</a></li>
</ul>
<h2 id="taille-des-textes">Taille des textes</h2>
<p><strong>Description : </strong>  </p>
<p>La gestion des polices dynamiques sous iOS est complexe. Il est possible depuis iOS7 d’utiliser une API permettant de rendre la taille des textes de son application dynamiquement modifiable à l’aide du paramétrage du téléphone. Si on résume cette API, il faut :  </p>
<ul>
<li>Utiliser les polices système pour les textes de l’application, <code>[UIFont preferredFontForTextStyle:UIFontTextStyle…]</code>. Il est aussi possible de définir ses propres polices dérivées de la classe <code>UIFont</code>.<ul>
<li>Traiter l’évènement signalant le changement de la taille du texte dans les paramètres du téléphone <code>UIContentSizeCategoryDidChangeNotification</code>, <code>[[NSNotificationCenter defaultCenter] addObserver:… selector:@selector(…) name: UIContentSizeCategoryDidChangeNotification object:…];</code></li>
<li>Lors du traitement de l’évènement signalant le changement de taille, il faut réafficher les éléments concernés.</li>  </li>
</ul>
</li>
</ul>
<p>Il faut aussi faire attention à ce que les conteneurs s’adaptent à leur contenu : utiliser les contraintes est le meilleur moyen de réaliser cette tâche.</p>
<p><strong>Lien : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/StringsTextFonts/Conceptual/TextAndWebiPhoneOS/CustomTextProcessing/CustomTextProcessing.html#//apple_ref/doc/uid/TP40009542-CH4-SW65">Dynamic Type API</a></li>
</ul>
<h2 id="ordre-de-lecture">Ordre de lecture</h2>
<p><strong>Description : </strong> </p>
<p>Redéfinir l’ordre de lecture VoiceOver s’effectue en respectant le protocole <code>UIAccessibilityContainer</code>. L’idée est d’avoir un tableau des éléments de la vue qui définit l’ordre de lecture des éléments. Il est bien souvent nécessaire d’utiliser l’attribut <code>shouldGroupAccessibilityElement</code> afin d’avoir un ordre précis, mais pour une partie seulement de la vue (le reste étant l’ordre naturel de lecture).</p>
<p><strong>Exemple : </strong> </p>
<p>Cellule de tableau qui comporte des éléments de formulaire :  </p>
<pre><code class="swift">class AddressTableViewCell: UITableViewCell {

    @IBOutlet weak var deliveringAddressLabel:  UILabel!
    @IBOutlet weak var addressLabel:            UILabel!
    @IBOutlet weak var switchLabel:             UILabel!
    @IBOutlet weak var addressSwitch:           UISwitch!

    override func awakeFromNib() {
        super.awakeFromNib()

        isAccessibilityElement = false
        shouldGroupAccessibilityChildren = true
        accessibilityElements = [deliveringAddressLabel, addressLabel, addressSwitch]
    }
}</code></pre>

<p><strong>Lien : </strong></p>
<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIAccessibilityContainer_Protocol/">UIAccessibilityContainer</a><!--  This file is part of a11y-guidelines | Our vision of mobile & web accessibility guidelines and best practices, with valid/invalid examples.
Copyright (C) 2016  Orange SA
See the Creative Commons Legal Code Attribution-ShareAlike 3.0 Unported License for more details (LICENSE file). --></li>
</ul>

          
        </div>
      </div>
    </main>

    <a aria-hidden="true" id="back-to-top" href="#" class="btn btn-primary btn-lg back-to-top" role="button" title="Retour en haut de page" data-toggle="tooltip" data-placement="left"></a>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="../boosted/js/boosted.min.js"></script>
    <script type="text/javascript" src="../js/reco.js"></script>
    <script type="text/javascript" src="../js/highlight.min.js"></script>

    <script type="text/javascript" src="http://comfort.orange.com/serveur/crossdom/js/toolbar-min.js"> </script>    
</body>
</html>
